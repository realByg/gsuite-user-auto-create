(this["webpackJsonpgsuite-user-auto-create"]=this["webpackJsonpgsuite-user-auto-create"]||[]).push([[0],{141:function(e,t,s){},233:function(e,t,s){"use strict";s.r(t);var n=s(7),a=s(0),c=s(23),i=s.n(c),l=s(241),r=(s(140),s(141),s(235)),o=s(236),j=s(243),d=s(244),b=Object(d.a)({scriptUrl:"https://at.alicdn.com/t/font_2344266_q4e9zpytr8a.js"});function u(){var e={fontWeight:500,fontSize:24};return Object(n.jsx)(r.a,{style:{height:"100%"},children:Object(n.jsx)(o.a,{lg:{span:18,offset:3},xs:{span:22,offset:1},children:Object(n.jsxs)("div",{className:"display-flex align-center justify-between",children:[Object(n.jsxs)(j.b,{align:"center",children:[Object(n.jsx)("img",{style:{height:28},src:"https://i.loli.net/2020/05/31/GK2zyeg9XRlZIw7.png",alt:"google"}),Object(n.jsx)("div",{className:"hide-on-small",style:e,children:"|"}),Object(n.jsx)("div",{style:e,className:"hide-on-small",children:"G Suite for Education"})]}),Object(n.jsxs)(j.b,{align:"center",children:[Object(n.jsx)(b,{style:{fontSize:30},type:"iconGoogle1",className:"hide-on-small"}),Object(n.jsx)(b,{style:{fontSize:30},type:"icon-businessclouddatadatabasedrivestora"}),Object(n.jsx)(b,{style:{fontSize:30},type:"icongoogle-photos--"}),Object(n.jsx)(b,{style:{fontSize:30},type:"iconicons-google-cloud-platform"}),Object(n.jsx)(b,{style:{fontSize:30},type:"iconGmail",className:"hide-on-small"}),Object(n.jsx)(b,{style:{fontSize:30},type:"icongoogle-plus",className:"hide-on-small"})]})]})})})}var h=s(47),p=s(48),O=s(242),m=s(238),f=s(129),x=s(240),g=s(239),y=s(237),v=s(245),w=s(246),S=s(247),C=s(97),k=s.n(C),z=s(144);function N(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),s=t[0],c=t[1],i=Object(a.useState)([{domains:[],id:"0",name:""}]),l=Object(h.a)(i,2),j=l[0],d=l[1],b=Object(a.useState)([]),u=Object(h.a)(b,2),O=u[0],C=u[1],N=Object(a.useState)({email:"",password:""}),I=Object(h.a)(N,2),G=I[0],E=I[1],F=m.a.useForm(),q=Object(h.a)(F,1)[0];Object(a.useEffect)((function(){c(!0),z({method:"post",url:"getGSConfig",baseURL:"/"}).then((function(e){d(e.data)})).catch((function(e){f.b.error(e)})).then((function(){c(!1)}))}),[]),Object(a.useEffect)((function(){q.setFieldsValue({email:{domain:O[0]}})}),[O,q]);var R=Object(n.jsxs)(m.a,{labelCol:{span:4},wrapperCol:{span:20},children:[Object(n.jsx)(m.a.Item,{label:"\u90ae\u7bb1",children:Object(n.jsx)(x.a,{value:G.email,prefix:Object(n.jsx)(v.a,{}),suffix:Object(n.jsx)(w.a,{onClick:function(){k()(G.email),f.b.success("\u5df2\u590d\u5236\u90ae\u7bb1")}})})}),Object(n.jsx)(m.a.Item,{label:"\u5bc6\u7801",children:Object(n.jsx)(x.a,{value:G.password,prefix:Object(n.jsx)(S.a,{}),suffix:Object(n.jsx)(w.a,{onClick:function(){k()(G.password),f.b.success("\u5df2\u590d\u5236\u5bc6\u7801")}})})}),Object(n.jsx)(m.a.Item,{style:{float:"right"},children:Object(n.jsx)(p.a,{onClick:function(){return window.open("https://accounts.google.com/ServiceLogin")},type:"primary",htmlType:"submit",children:"\u767b\u5f55"})})]}),L=Object(n.jsxs)(m.a,{form:q,name:"basic",onFinish:function(e){c(!0),z({method:"post",url:"createUser",baseURL:"/",data:e}).then((function(e){e.data.success?(f.b.success("\u8d26\u53f7\u521b\u5efa\u6210\u529f"),E({email:e.data.account.primaryEmail,password:e.data.account.password})):(f.b.error(e.data.msg),q.resetFields())})).catch((function(e){f.b.error(e)})).then((function(){c(!1)}))},labelCol:{span:4},wrapperCol:{span:20},children:[Object(n.jsx)(m.a.Item,{label:"\u673a\u6784",name:"institute",rules:[{required:!0,message:"\u5fc5\u9009"}],children:Object(n.jsx)(g.a,{placeholder:"\u9009\u62e9\u673a\u6784",onChange:function(e){var t=j.find((function(t){return t.id===e}));C((null===t||void 0===t?void 0:t.domains)||[])},children:j.map((function(e){return Object(n.jsx)(g.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(n.jsx)(m.a.Item,{label:"\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u5fc5\u586b"}],children:Object(n.jsxs)(x.a.Group,{compact:!0,children:[Object(n.jsx)(m.a.Item,{name:["email","username"],noStyle:!0,rules:[{required:!0,message:"\u5fc5\u586b\uff0c1-10\u4e2a\u5b57\u7b26\uff0c\u4ec5\u9650\u5b57\u6bcd\u6570\u5b57",min:1,max:10,type:"string",pattern:/^[a-zA-Z0-9._]+$/g}],children:Object(n.jsx)(x.a,{style:{width:"55%"},placeholder:"\u7528\u6237\u540d",allowClear:!0})}),Object(n.jsx)(m.a.Item,{name:["email","domain"],noStyle:!0,rules:[{required:!0,message:"\u5fc5\u9009"}],children:Object(n.jsx)(g.a,{style:{width:"45%"},placeholder:"\u9009\u62e9\u540e\u7f00",value:O[0],notFoundContent:"\u8bf7\u9009\u62e9\u673a\u6784",children:O.map((function(e){return Object(n.jsxs)(g.a.Option,{value:e,children:["@",e]},e)}))})})]})}),Object(n.jsx)(m.a.Item,{label:"\u6fc0\u6d3b\u7801",name:"code",rules:[{required:!0,message:"\u683c\u5f0f\u9519\u8bef",type:"string",pattern:/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i}],children:Object(n.jsx)(x.a,{placeholder:"\u6fc0\u6d3b\u7801",allowClear:!0})}),Object(n.jsx)(m.a.Item,{style:{float:"right"},children:Object(n.jsx)(p.a,{type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]});return Object(n.jsx)(y.a,{spinning:s,children:Object(n.jsx)(r.a,{children:Object(n.jsx)(o.a,{lg:{span:14,offset:5},xs:{span:24},children:G.password?R:L})})})}function I(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),s=t[0],c=t[1];return Object(n.jsx)(r.a,{style:{background:"url(https://i.loli.net/2020/01/22/Rgv3xJAVYN4n9Za.png) no-repeat",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"100vh"},children:Object(n.jsx)(o.a,{lg:{span:14,offset:5},xs:{span:22,offset:1},className:"display-flex align-center justify-around",children:Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("span",{className:"lineOneFont",children:"G Suite for Education"}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"lineTwoFont",children:"\u83b7\u53d6\u65e0\u9650\u8c37\u6b4c\u4e91\u76d8\u548c\u76f8\u518c"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(j.b,{children:[Object(n.jsx)(p.a,{style:{width:110},type:"primary",danger:!0,size:"large",onClick:function(){return c((function(e){return!e}))},children:"\u7acb\u5373\u83b7\u53d6"}),Object(n.jsx)(O.a,{title:"\u83b7\u53d6 G Suite for Education",centered:!0,visible:s,width:1e3,maskClosable:!1,destroyOnClose:!0,footer:!1,onCancel:function(){return c(!1)},children:Object(n.jsx)(N,{})}),Object(n.jsx)(p.a,{style:{width:110},size:"large",onClick:function(){return window.open("https://accounts.google.com/ServiceLogin")},children:"\u767b\u5f55"})]})]})})})}function G(){return Object(n.jsxs)(l.a,{children:[Object(n.jsx)(l.a.Header,{className:"background-white",style:{padding:0},children:Object(n.jsx)(u,{})}),Object(n.jsx)(l.a.Content,{children:Object(n.jsx)(I,{})})]})}i.a.render(Object(n.jsx)(G,{}),document.getElementById("root"))}},[[233,1,2]]]);